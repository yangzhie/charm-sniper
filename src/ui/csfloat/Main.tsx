import { useState, useEffect } from "react";
// import { eventBus } from "../utils/eventBus";

function Main() {
	// const [charmName, setCharmName] = useState("");
	const [data, setData] = useState([]);

	useEffect(() => {
		// @ts-ignore
		window.api.invokeCSFloatData("Charm | Lil' Zen");

		// @ts-ignore
		const handler = (newData) => {
			setData(newData);
		};

		// @ts-ignore
		window.api.onCSFloatDataUpdate(handler);

		return () => {
			// @ts-ignore
			window.api.removeAllListeners(handler);
		};
	});
	return (
		<>
			<div>{JSON.stringify(data, null, 2)}</div>
		</>
	);
}

export default Main;
